<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨ Loading - MemChoXD's Magical Profile ✨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style1.css">
    <link rel="stylesheet" href="style2.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="stars"></div>
        <div class="nebula"></div>
        <div class="cosmic-dust"></div>
    </div>
    
    <!-- Magic Particles -->
    <div class="magic-particles" id="magicParticles"></div>
    
    <!-- Main Loading Content -->
    <div class="loading-container">
        <!-- Magical Circle -->
        <div class="magic-circle">
            <div class="outer-ring"></div>
            <div class="middle-ring"></div>
            <div class="inner-ring"></div>
            
            <!-- Avatar with Magical Aura -->
            <div class="avatar-container">
                <div class="magical-aura"></div>
                <div class="avatar-glow"></div>
                <img class="avatar-img" src="./png/mmmb.jpg" alt="MemChoXD's Avatar">
                <div class="avatar-frame">
                    <div class="frame-glow"></div>
                </div>
            </div>
        </div>
        
        <!-- Loading Text with Typewriter Effect -->
        <div class="loading-text-container">
            <h1 class="main-title">
                <span class="title-glow">M</span>
                <span class="title-glow">e</span>
                <span class="title-glow">m</span>
                <span class="title-glow">c</span>
                <span class="title-glow">h</span>
                <span class="title-glow">o</span>
                <span class="title-accent">'s</span>
                <span class="title-accent">Profile</span>
            </h1>
            <div class="loading-subtitle">
                <i class="fas fa-magic"></i>
                <span id="loadingText">Đang khởi tạo web...</span>
                <div class="dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
        
        <!-- Anime-style Progress Bar -->
        <div class="progress-container">
            <div class="progress-bg">
                <div class="progress-fill" id="progressFill"></div>
                <div class="progress-glow"></div>
                <div class="progress-spark" id="progressSpark"></div>
            </div>
            <div class="progress-percentage" id="progressPercentage">0%</div>
        </div>
        
        <!-- Status Messages -->
        <div class="status-messages" id="statusMessages">
            <div class="status-item">
                <i class="fas fa-star"></i>
                <span>Đang tải tài nguyên...</span>
            </div>
        </div>
    </div>
    
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-icon" style="--delay: 0s; --duration: 3s;">
            <i class="fas fa-heart"></i>
        </div>
        <div class="floating-icon" style="--delay: 1s; --duration: 4s;">
            <i class="fas fa-star"></i>
        </div>
        <div class="floating-icon" style="--delay: 2s; --duration: 3.5s;">
            <i class="fas fa-sparkles"></i>
        </div>
        <div class="floating-icon" style="--delay: 0.5s; --duration: 4.5s;">
            <i class="fas fa-moon"></i>
        </div>
    </div>

    <script>
        // Loading messages for different stages
        const loadingMessages = [
            "Đang khởi tạo thế giới ma thuật...",
            "Đang tải avatar và trang trí...",
            "Đang kết nối với Discord...",
            "Đang chuẩn bị giao diện...",
            "Đang tối ưu hóa trải nghiệm...",
            "Sắp hoàn thành rồi..."
        ];

        const statusMessages = [
            { icon: "fas fa-star", text: "Đang tải tài nguyên..." },
            { icon: "fas fa-image", text: "Đang tải hình ảnh..." },
            { icon: "fab fa-discord", text: "Đang kết nối Discord..." },
            { icon: "fas fa-palette", text: "Đang tải giao diện..." },
            { icon: "fas fa-cog", text: "Đang tối ưu hóa..." },
            { icon: "fas fa-check", text: "Hoàn thành!" }
        ];

        // Create magical particles
        function createMagicalParticles() {
            const container = document.getElementById('magicParticles');
            const particleCount = 80;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'magic-particle';
                
                // Random properties
                const size = Math.random() * 6 + 2;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = Math.random() * 10 + 5;
                const delay = Math.random() * 5;
                
                particle.style.cssText = `
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}%;
                    top: ${y}%;
                    animation-duration: ${duration}s;
                    animation-delay: ${delay}s;
                `;
                
                container.appendChild(particle);
            }
        }

        // Create stars
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            const starCount = 100;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                const size = Math.random() * 3 + 1;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const duration = Math.random() * 3 + 2;
                
                star.style.cssText = `
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}%;
                    top: ${y}%;
                    animation-duration: ${duration}s;
                `;
                
                starsContainer.appendChild(star);
            }
        }

        // Update progress with smooth animation
        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const progressSpark = document.getElementById('progressSpark');
            const loadingText = document.getElementById('loadingText');
            const statusContainer = document.getElementById('statusMessages');
            
            let progress = 0;
            let messageIndex = 0;
            let statusIndex = 0;
            
            const interval = setInterval(() => {
                if (progress >= 100) {
                    clearInterval(interval);
                    
                    // Final animation before redirect
                    document.body.classList.add('loading-complete');
                    
                    setTimeout(() => {
                        window.location.href = 'load.html';
                    }, 1000);
                } else {
                    progress += Math.random() * 2 + 0.5; // Variable speed
                    if (progress > 100) progress = 100;
                    
                    // Update progress bar
                    progressFill.style.width = progress + '%';
                    progressSpark.style.left = progress + '%';
                    progressPercentage.textContent = Math.floor(progress) + '%';
                    
                    // Update loading message
                    const newMessageIndex = Math.floor((progress / 100) * loadingMessages.length);
                    if (newMessageIndex !== messageIndex && newMessageIndex < loadingMessages.length) {
                        messageIndex = newMessageIndex;
                        loadingText.textContent = loadingMessages[messageIndex];
                    }
                    
                    // Update status messages
                    const newStatusIndex = Math.floor((progress / 100) * statusMessages.length);
                    if (newStatusIndex !== statusIndex && newStatusIndex < statusMessages.length) {
                        statusIndex = newStatusIndex;
                        const status = statusMessages[statusIndex];
                        statusContainer.innerHTML = `
                            <div class="status-item">
                                <i class="${status.icon}"></i>
                                <span>${status.text}</span>
                            </div>
                        `;
                    }
                }
            }, 50);
        }

        // Animate title letters
        function animateTitle() {
            const letters = document.querySelectorAll('.title-glow, .title-accent');
            letters.forEach((letter, index) => {
                setTimeout(() => {
                    letter.classList.add('animate');
                }, index * 100);
            });
        }

        // Initialize everything
        window.addEventListener('load', () => {
            createMagicalParticles();
            createStars();
            animateTitle();
            
            setTimeout(() => {
                updateProgress();
            }, 1000);
        });
    </script>
</body>
</html>
